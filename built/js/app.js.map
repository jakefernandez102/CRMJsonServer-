{"version":3,"file":"app.js","names":["getCustomers","deleteCustomer","list","document","querySelector","addEventListener","e","target","classList","contains","customerId","parseInt","dataset","customer","confirm","async","forEach","name","email","tel","company","id","row","createElement","innerHTML","appendChild"],"sources":["app.js"],"mappings":"OACSA,aAAcC,mBAAsB,WAE7C,MAEI,MAAMC,EAAOC,SAASC,cAAe,qBACrCF,EAAKG,iBAAkB,SAiCvB,SAAwBC,GACpB,GAAKA,EAAEC,OAAOC,UAAUC,SAAU,UAAa,CAC3C,MAAMC,EAAaC,SAAUL,EAAEC,OAAOK,QAAQC,UAEtBC,QAAS,gDAG7Bb,eAAgBS,EAExB,CACJ,IAzCAP,SAASE,iBAAkB,oBAE3BU,wBAC4Bf,gBAEdgB,SAASH,IACf,MAAMI,KAAEA,EAAIC,MAAEA,EAAKC,IAAEA,EAAGC,QAAEA,EAAOC,GAAEA,GAAOR,EAEpCS,EAAMnB,SAASoB,cAAe,MAEpCD,EAAIE,UAAY,wLAEsEP,4EAC9BC,oKAGpBC,+LAGAC,0LAGMC,8GACJA,oGAItCnB,EAAKuB,YAAaH,EAAK,GAE/B,GAiBF,EAnDF","sourcesContent":["\r\nimport { getCustomers, deleteCustomer } from './API.js';\r\n\r\n( () => {\r\n\r\n    const list = document.querySelector( '#listado-clientes' );\r\n    list.addEventListener( 'click', confirmDelete );\r\n\r\n    document.addEventListener( 'DOMContentLoaded', showCustomers );\r\n\r\n    async function showCustomers() {\r\n        const customers = await getCustomers();\r\n\r\n        customers.forEach( customer => {\r\n            const { name, email, tel, company, id } = customer;\r\n\r\n            const row = document.createElement( 'TR' );\r\n\r\n            row.innerHTML = `\r\n                <td class=\"px-6 py-4 whitespace-no-wrap border-b border-gray-200\">\r\n                    <p class=\"text-sm leading-5 font-medium text-gray-700 text-lg  font-bold\"> ${ name } </p>\r\n                    <p class=\"text-sm leading-10 text-gray-700\"> ${ email } </p>\r\n                </td>\r\n                <td class=\"px-6 py-4 whitespace-no-wrap border-b border-gray-200 \">\r\n                    <p class=\"text-gray-700\">${ tel }</p>\r\n                </td>\r\n                <td class=\"px-6 py-4 whitespace-no-wrap border-b border-gray-200  leading-5 text-gray-700\">    \r\n                    <p class=\"text-gray-600\">${ company }</p>\r\n                </td>\r\n                <td class=\"px-6 py-4 whitespace-no-wrap border-b border-gray-200 text-sm leading-5\">\r\n                    <a href=\"edit-customer.html?id=${ id }\" class=\"text-teal-600 hover:text-teal-900 mr-5\">Edit</a>\r\n                    <a href=\"#\" data-customer=\"${ id }\" class=\"text-red-600 hover:text-red-900 delete\">Delete</a>\r\n                </td>\r\n            `;\r\n\r\n            list.appendChild( row );\r\n        } );\r\n    }\r\n\r\n    function confirmDelete( e ) {\r\n        if ( e.target.classList.contains( 'delete' ) ) {\r\n            const customerId = parseInt( e.target.dataset.customer );\r\n\r\n            const confirmDeleting = confirm( 'Do you really want to delete this customer?' );\r\n\r\n            if ( confirmDeleting ) {\r\n                deleteCustomer( customerId );\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n} )();"]}